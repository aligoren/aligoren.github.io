<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Python'da Struct Kullanımı &#8211; Ali GÖREN...</title>
    <link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com">
    <link rel="dns-prefetch" href="//cdn.mathjax.org">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content=".NET, SQL, Python, Açık Kaynak">
    <meta name="robots" content="all">
    <meta name="author" content="Ali GÖREN">
    
    <meta name="keywords" content="Programlama, Python">
    <link rel="canonical" href="https://aligoren.com/pythonda-struct-kullanimi">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Ali GÖREN..." href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?201610162217" type="text/css">
    <link rel="stylesheet" href="/css/prism.css">
    <link rel="stylesheet" href="/css/card.css">

    <!-- Fonts -->
    
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300&subset=latin-ext,latin' rel='stylesheet' type='text/css'>
    
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    

    <!-- MathJax -->
    

    <!-- Verifications -->
    
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="tr_TR">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Python'da Struct Kullanımı">
    <meta property="og:description" content=".NET, SQL, Python, Açık Kaynak">
    <meta property="og:url" content="https://aligoren.com/pythonda-struct-kullanimi">
    <meta property="og:site_name" content="Ali GÖREN...">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@yazilimci_adam" />
    
    <meta name="twitter:title" content="Python'da Struct Kullanımı" />
    <meta name="twitter:description" content=".NET, SQL, Python, Açık Kaynak" />
    <meta name="twitter:url" content="https://aligoren.com/pythonda-struct-kullanimi" />

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

    
</head>

<body class="site">
  
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
      <a href="https://aligoren.com" class="site-title">Ali GÖREN...</a>
      <nav class="site-nav">
        
    
    <a href="/fb-instant-articles.xml"></a>
    

    
    <a href="/feed.xml"></a>
    

    
    <a href="/hakkimda">Hakkımda</a>
    

    
    <a href="/"></a>
    

    

    
    <a href="/css/pixyll.css"></a>
    

    
    <a href="/page2/"></a>
    

    
    <a href="/page3/"></a>
    

    
    <a href="/page4/"></a>
    

    
    <a href="/page5/"></a>
    

    
    <a href="/page6/"></a>
    

    
    <a href="/page7/"></a>
    

    
    <a href="/page8/"></a>
    


      </nav>
      <div class="clearfix"></div>
      
        <div class="social-icons">
  <div class="social-icons-right">
    
      <a class="fa fa-github" href="https://github.com/aligoren"></a>
    
    
      <a class="fa fa-bitbucket" href="https://bitbucket.org/aligoren"></a>
    
    
      <a class="fa fa-stack-overflow" href="https://stackoverflow.com/users/3821823/ali"></a>
    
    <a class="fa fa-rss" href="/feed.xml"></a>
    
      <a class="fa fa-twitter" href="https://twitter.com/yazilimci_adam"></a>
    
    
    
    
      <a class="fa fa-google-plus" href="https://plus.google.com/+aligoren/posts"></a>
    
    
      <a class="fa fa-envelope" href="mailto:goren.ali@yandex.com"></a>
    
    
      <a class="fa fa-linkedin" href="https://www.linkedin.com/in/gorenali"></a>
    
    
    
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        


<div class="post-header mb2">
  <h1>Python'da Struct Kullanımı</h1>
  <span class="post-meta">Mar 30, 2016</span><br>
  
  <span class="post-meta small">
  
    3 Dakikada Okunabilir
  
  </span>
</div>

<article class="post-content">
  <p>Evet var olmaz demeyin lütfen. Kısacası struct bir şablon olarak gelir önümüze. Bildiğimiz manada struct, farklı verileri bir araya getiriyoruz yani aslında grupluyor. Peki kullanımı nasıldı ki <strong>“Python’da”</strong> ile başlayan bir başlık attım ki?</p>

<p>Örneğin D dilinden örnek verecek olursak Ali Çehreli hocam çok güzel <a href="http://ddili.org/ders/d/yapilar.html">açıklamış</a>:</p>

<pre><code class="language-d">struct GununSaati {
    int saat;
    int dakika;
}
</code></pre>

<p>Bu D dili ile yazılan bir örnek. Ve oradan bir alıntı yapmak istiyorum:</p>

<pre><code>struct birbirleriyle ilişkili değişkenleri
bir araya getirerek yeni bir tür olarak kullanma olanağı verir:
</code></pre>

<p>Benim de yukarıda söylediğimle aynı aslında. Ve sonrasında alt kısımda bir açıklama daha getirilmiş.</p>

<pre><code>Yukarıdaki tanım, saat ve dakika isimli iki int değişkeni
bir araya getiren ve ismi GününSaati olan yeni bir tür tanımlar.
Yukarıdaki tanımdan sonra artık başka
türler gibi kullanabileceğimiz
GününSaati isminde yeni bir türümüz olur.
Örnek olarak int türüne benzer kullanımını şöyle gösterebiliriz:
</code></pre>

<p>Evet buraya kadar biraz anlam çıkarılmış olmalı sanıyorum ki. Peki bunu Python’da nasıl yaparız?</p>

<p><img src="/images/posts/25.png" alt="/images/posts/25.png" /></p>

<p>Bunun için öncelikle collections kullanmamız gerekiyor. Ve buradan dahil edeceğimiz namedtuple da struct’ımızı oluşturmamızda bize yardımcı olacak. Basit bir anlatım yapmaya çalışayım. Bir <code>namedtuple</code> için.</p>

<p>namedtuple ilk argüman olarak Tip Adı olarak kabul edilen bir argüman <a href="https://docs.python.org/dev/library/collections.html#collections.namedtuple">alır</a>. Diğer işe yarar argüman ise bu bize özgü tipe ait alanlardır. Yukarıdaki D dili örneğine tekrar bakarsak saat ve bakika, yazacağımız python kodunda bizim alanlarımız olacaktır. Temelde kod yapısı şöyle olacaktır:</p>

<pre><code class="language-python">namedtuple("TipAdı", "tip_alanı ikinci_alan üçüncü_alan")
</code></pre>
<p>O zaman bir örnek kod görelim bu anlamamız açısından daha iyi olacaktır.</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")
</code></pre>

<p>Öncelikle namedtuple’ı çağırdık bunu söylemiştim. namedtuple’ı bir değişkene atadım aslında artık namedtuple’ın işlerini <code>YeniTip</code> yönetecek. Burada namedtuple <code>GununSaati</code> adında yeni bir tür oluşturdu. Bu türün alanları ise saat ve dakika oluyor. Tür dediğim kısım aslında tip kısmı. Zaten verdiğim açıklama linkine de bakarsanız oranın alacağı parameter <strong>TypeName</strong> olarak belirtilmiş. Peki yeni türümüzü hazırladık nasıl kullanacağız?</p>

<p>Öncelikle bu yeni tipimizi bir değişkene ilkleyelim. Bu ilkleme sırasında YeniTip argüman alan bir işlev gibi davranacak. Bunu bir kod ile görelim:</p>

<pre><code class="language-python">zaman = YeniTip(15, 30)
</code></pre>

<p>Oluşturduğumuz zaman değişkeni, YeniTip olarak ilklediğimiz veri tipine ilklendi. Artık <strong>zaman</strong> değişkeni ile istediğim alanlara erişebilirim. Bu örnekte alanlarımız saat ve dakika idi. Örnekte 15 saat, 30 ise dakika oluyor. Şu an yazdığımız kodların tam haline bakalım:</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")

zaman = YeniTip(15, 30)

print(zaman.saat)
print(zaman.dakika)
</code></pre>

<p>Bu kodun verdiği çıktı 15 ve 30 olacaktır. Eğer özel bir tür var ise yani <strong>GununSaati</strong> gibi bir tür var ise bu türe ait alanları öğrenmek yine çok basit. Yukarıdaki zaman değişkeni üzerinden gidecek olursak şöyle açıklayayım:</p>

<pre><code class="language-python">print(zaman._fields) # print(zaman._fields)
</code></pre>

<p>ya da henüz herhangi bir değer almamış hali ile yani saf hali ile tip üzerinden kontrolü şöyle sağlarız:</p>

<pre><code class="language-python">print(YeniTip._fields)
</code></pre>

<p>Bu sayede değer girmek zorunda kalmamış oluruz. Ayrıca dikkat etmemiz gereken bir diğer husus ise değeri bir kere verilmiş namedtuple’a daha sonra tekrar değer veremiyorsunuz. Yani şunu yapamazsınız</p>

<pre><code class="language-python">zaman = YeniTip(15, 30)
zaman.saat = 20
</code></pre>

<p>Eğer bunu yaparsanız şöyle bir hata alırsınız:</p>

<pre><code>Traceback (most recent call last):
  File "test.py", line 6, in &lt;module&gt;
    zaman.saat = 20
AttributeError: can't set attribute
</code></pre>

<p>Hmm diyor ki bir değer set edemezsiniz. O yüzden eğer yapılara bir değer vereceksek ilklediğimiz anda bu değerleri vermemiz gerekiyor. Ancak bu dinamik değerler alamaz demek değildir. Örnek verecek olursak:</p>

<pre><code class="language-python">from collections import namedtuple

saat = [10, 11, 12, 13, 14, 15]

YeniTip = namedtuple('GununSaati', "saat dakika")

for sa in saat:
    zaman = YeniTip(sa, 30)
    print(zaman.saat, ":", zaman.dakika)

"""
10 : 30
11 : 30
12 : 30
13 : 30
14 : 30
15 : 30
"""
</code></pre>

<p>Yukarıdaki örneği verdim. Aslında bunu iterable hale getirmemizi sağlayan <code>_make</code> işlevi var. Örneğin;</p>

<pre><code class="language-python">from collections import namedtuple
saat_dakika = [15, 30]
YeniTip = namedtuple("GununSaati", "saat dakika")
YeniTip._make(saat_dakika)
# GununSaati(saat=15, dakika=30)
</code></pre>

<p>Makaleyi yanlışa götürmemek adına yukarıdaki set edilemez hatasına farklı bir açıdan yaklaşalım. Evet direkt olarak bir set etme işlemi yapamıyoruz ancak <code>_replace</code> işlevi ile değeri değiştirebiliriz. Fakat bunu tanımlamadan hemen sonra yapmalıyız. Örnek şöyle olmalı:</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")

zaman = YeniTip(15, 30)

zaman = zaman._replace(saat=19)

print(zaman.saat) # 19
</code></pre>

<p>Son olarak da zaman değişkenine type kontrolü yapalım.</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")

zaman = YeniTip(15, 30)

zaman = zaman._replace(saat=19)

print(type(zaman))

# &lt;class '__main__.GununSaati'&gt;
</code></pre>

<p>Artık bu nesnenin türünün GununSaati olduğunu görebiliyoruz. Hatalı bir nokta var ise şimdiden özür dilerim.</p>

</article>




  <div class="py2 post-footer">
  <img src="/images/ali.jpg" alt="John Otander" class="avatar" />
  <p>
    Bu da böyle bir anımdır işte...
  </p>
  <p>
    <a target="_blank" href="https://twitter.com/yazilimci_adam">Twitter</a>.
  </p>
</div>




Kategori:

<a href="kategoriler#Programlama">Programlama</a>,

<a href="kategoriler#Python">Python</a>,





  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_shortname  = 'aligren';
    var disqus_identifier = '/pythonda-struct-kullanimi';
    var disqus_title      = "Python'da Struct Kullanımı";

    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>






      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
    <small>
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">Github</a>.
    </small>
  </div>
</footer>
<script src="/js/prism.js"></script>


</body>
</html>
