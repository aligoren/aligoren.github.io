<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content=".NET, SQL, Python, Açık Kaynak">

    <title>Python'da Struct Kullanımı - Ali GÖREN...</title>

    <link rel="canonical" href="https://aligoren.comhttps://aligoren.com/pythonda-struct-kullanimi">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="https://aligoren.com/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="https://aligoren.com/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <!-- <link rel="stylesheet" href="https://aligoren.com/css/syntax.css"> -->
    <link rel="stylesheet" href="https://aligoren.com/css/prism.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="https://aligoren.com/feed.xml" title="Ali GÖREN..." />

</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://aligoren.com/">Ali GÖREN...</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="https://aligoren.com/">Anasayfa</a>
                </li>
                
				
                
				
                <li>
                    <a href="https://aligoren.com/hakkimda">Hakkımda</a>
                </li>
				
                
				
                <li>
                    <a href="https://aligoren.com/kategoriler">Kategoriler</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('https://aligoren.com/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1 class="yazibasligi">Python'da Struct Kullanımı</h1>
                    
                    <!--<span class="meta">Posted by Ali GÖREN... on March 30, 2016</span>-->
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 yaziici">

				<p>Evet var olmaz demeyin lütfen. Kısacası struct bir şablon olarak gelir önümüze. Bildiğimiz manada struct, farklı verileri bir araya getiriyoruz yani aslında grupluyor. Peki kullanımı nasıldı ki <strong>“Python’da”</strong> ile başlayan bir başlık attım ki?</p>

<p>Örneğin D dilinden örnek verecek olursak Ali Çehreli hocam çok güzel <a href="http://ddili.org/ders/d/yapilar.html">açıklamış</a>:</p>

<pre><code class="language-d">struct GununSaati {
    int saat;
    int dakika;
}
</code></pre>

<p>Bu D dili ile yazılan bir örnek. Ve oradan bir alıntı yapmak istiyorum:</p>

<pre><code>struct birbirleriyle ilişkili değişkenleri
bir araya getirerek yeni bir tür olarak kullanma olanağı verir:
</code></pre>

<p>Benim de yukarıda söylediğimle aynı aslında. Ve sonrasında alt kısımda bir açıklama daha getirilmiş.</p>

<pre><code>Yukarıdaki tanım, saat ve dakika isimli iki int değişkeni
bir araya getiren ve ismi GününSaati olan yeni bir tür tanımlar.
Yukarıdaki tanımdan sonra artık başka
türler gibi kullanabileceğimiz
GününSaati isminde yeni bir türümüz olur.
Örnek olarak int türüne benzer kullanımını şöyle gösterebiliriz:
</code></pre>

<p>Evet buraya kadar biraz anlam çıkarılmış olmalı sanıyorum ki. Peki bunu Python’da nasıl yaparız?</p>

<p><img src="/images/posts/25.png" alt="/images/posts/25.png" /></p>

<p>Bunun için öncelikle collections kullanmamız gerekiyor. Ve buradan dahil edeceğimiz namedtuple da struct’ımızı oluşturmamızda bize yardımcı olacak. Basit bir anlatım yapmaya çalışayım. Bir <code>namedtuple</code> için.</p>

<p>namedtuple ilk argüman olarak Tip Adı olarak kabul edilen bir argüman <a href="https://docs.python.org/dev/library/collections.html#collections.namedtuple">alır</a>. Diğer işe yarar argüman ise bu bize özgü tipe ait alanlardır. Yukarıdaki D dili örneğine tekrar bakarsak saat ve bakika, yazacağımız python kodunda bizim alanlarımız olacaktır. Temelde kod yapısı şöyle olacaktır:</p>

<pre><code class="language-python">namedtuple("TipAdı", "tip_alanı ikinci_alan üçüncü_alan")
</code></pre>
<p>O zaman bir örnek kod görelim bu anlamamız açısından daha iyi olacaktır.</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")
</code></pre>

<p>Öncelikle namedtuple’ı çağırdık bunu söylemiştim. namedtuple’ı bir değişkene atadım aslında artık namedtuple’ın işlerini <code>YeniTip</code> yönetecek. Burada namedtuple <code>GununSaati</code> adında yeni bir tür oluşturdu. Bu türün alanları ise saat ve dakika oluyor. Tür dediğim kısım aslında tip kısmı. Zaten verdiğim açıklama linkine de bakarsanız oranın alacağı parameter <strong>TypeName</strong> olarak belirtilmiş. Peki yeni türümüzü hazırladık nasıl kullanacağız?</p>

<p>Öncelikle bu yeni tipimizi bir değişkene ilkleyelim. Bu ilkleme sırasında YeniTip argüman alan bir işlev gibi davranacak. Bunu bir kod ile görelim:</p>

<pre><code class="language-python">zaman = YeniTip(15, 30)
</code></pre>

<p>Oluşturduğumuz zaman değişkeni, YeniTip olarak ilklediğimiz veri tipine ilklendi. Artık <strong>zaman</strong> değişkeni ile istediğim alanlara erişebilirim. Bu örnekte alanlarımız saat ve dakika idi. Örnekte 15 saat, 30 ise dakika oluyor. Şu an yazdığımız kodların tam haline bakalım:</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")

zaman = YeniTip(15, 30)

print(zaman.saat)
print(zaman.dakika)
</code></pre>

<p>Bu kodun verdiği çıktı 15 ve 30 olacaktır. Eğer özel bir tür var ise yani <strong>GununSaati</strong> gibi bir tür var ise bu türe ait alanları öğrenmek yine çok basit. Yukarıdaki zaman değişkeni üzerinden gidecek olursak şöyle açıklayayım:</p>

<pre><code class="language-python">print(zaman._fields) # print(zaman._fields)
</code></pre>

<p>ya da henüz herhangi bir değer almamış hali ile yani saf hali ile tip üzerinden kontrolü şöyle sağlarız:</p>

<pre><code class="language-python">print(YeniTip._fields)
</code></pre>

<p>Bu sayede değer girmek zorunda kalmamış oluruz. Ayrıca dikkat etmemiz gereken bir diğer husus ise değeri bir kere verilmiş namedtuple’a daha sonra tekrar değer veremiyorsunuz. Yani şunu yapamazsınız</p>

<pre><code class="language-python">zaman = YeniTip(15, 30)
zaman.saat = 20
</code></pre>

<p>Eğer bunu yaparsanız şöyle bir hata alırsınız:</p>

<pre><code>Traceback (most recent call last):
  File "test.py", line 6, in &lt;module&gt;
    zaman.saat = 20
AttributeError: can't set attribute
</code></pre>

<p>Hmm diyor ki bir değer set edemezsiniz. O yüzden eğer yapılara bir değer vereceksek ilklediğimiz anda bu değerleri vermemiz gerekiyor. Ancak bu dinamik değerler alamaz demek değildir. Örnek verecek olursak:</p>

<pre><code class="language-python">from collections import namedtuple

saat = [10, 11, 12, 13, 14, 15]

YeniTip = namedtuple('GununSaati', "saat dakika")

for sa in saat:
    zaman = YeniTip(sa, 30)
    print(zaman.saat, ":", zaman.dakika)

"""
10 : 30
11 : 30
12 : 30
13 : 30
14 : 30
15 : 30
"""
</code></pre>

<p>Yukarıdaki örneği verdim. Aslında bunu iterable hale getirmemizi sağlayan <code>_make</code> işlevi var. Örneğin;</p>

<pre><code class="language-python">from collections import namedtuple
saat_dakika = [15, 30]
YeniTip = namedtuple("GununSaati", "saat dakika")
YeniTip._make(saat_dakika)
# GununSaati(saat=15, dakika=30)
</code></pre>

<p>Makaleyi yanlışa götürmemek adına yukarıdaki set edilemez hatasına farklı bir açıdan yaklaşalım. Evet direkt olarak bir set etme işlemi yapamıyoruz ancak <code>_replace</code> işlevi ile değeri değiştirebiliriz. Fakat bunu tanımlamadan hemen sonra yapmalıyız. Örnek şöyle olmalı:</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")

zaman = YeniTip(15, 30)

zaman = zaman._replace(saat=19)

print(zaman.saat) # 19
</code></pre>

<p>Son olarak da zaman değişkenine type kontrolü yapalım.</p>

<pre><code class="language-python">from collections import namedtuple

YeniTip = namedtuple('GununSaati', "saat dakika")

zaman = YeniTip(15, 30)

zaman = zaman._replace(saat=19)

print(type(zaman))

# &lt;class '__main__.GununSaati'&gt;
</code></pre>

<p>Artık bu nesnenin türünün GununSaati olduğunu görebiliyoruz. Hatalı bir nokta var ise şimdiden özür dilerim.</p>


                <hr>
                
                  <div id="disqus_thread"></div>
                  <script type="text/javascript">
                    var disqus_shortname  = 'aligren';
                    var disqus_identifier = '/pythonda-struct-kullanimi';
                    var disqus_title      = "Python'da Struct Kullanımı";

                    (function() {
                      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                    })();
                  </script>
                  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                  <hr>
                
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="https:/aligoren.com/the-flash" data-toggle="tooltip" data-placement="top" title="The Flash">&larr; Sonraki Yazı</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="https:/aligoren.com/pythonda-zincirleme-metodlar" data-toggle="tooltip" data-placement="top" title="Python'da Zincirleme Metodlar">Önceki Yazı &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="https://aligoren.com/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/aligoren">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="mailto:goren.ali@yandex.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy;  2017</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="https://aligoren.com/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="https://aligoren.com/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="https://aligoren.com/js/clean-blog.min.js "></script>
<script src="https://aligoren.com/js/prism.js "></script>


    


</body>

</html>
